**Problme No:** 01280
**Problem Id:** 나무 심기


무난하게 구간 쿼리(segment tree or fenwick)을 통해 풀 수 있는 문제이다.


`i`번 나무를 심는 단계에 이르렀다고 생각해보자.


결국 절대값의 성질로 부터 `i`번 나무보다 앞에 위치하는 나무들에 대해서 그 거리의 합은 아래와 같다.


- `i번 나무보다 앞에 위치하는 나무들과의 거리합` = $ \sigma (`i`번 나무 위치 - `j`번 나무 위치) $
(이때, `j`번 나무는 `i`번 나무보다 앞에 존재)


위의 식을 다시 쓰면 아래와 같다.


- `i번 나무보다 앞에 위치하는 나무들과의 거리합` = `i번 나무 위치` * `i번 보다 앞에 있는 나무의 수` - `i번 보다 앞에 있는 나무의 위치 합`
(이때, `j`번 나무는 `i`번 나무보다 앞에 존재)


따라서, 핵심이 되는 항은 `i번 보다 앞에 있는 나무의 수`, `i번 보다 앞에 있는 나무의 위치 합`, 2개의 항이다.


전자의 경우 위치 배열에 나무가 심어질 때마다 1을 증가시키는 구간 트리로, 후자의 경우 위치 배열에 나무가 심어질 때마다 **나무 위치의 값**만큼을 증가시키는 구간트리로 쉽게 구해줄 수 있다.


`i번 나무보다 뒤에 위치하는 나무`들 같은 경우에도 유사하게 고려가능하다.


한가지 난 몇번 실수 했던 것이 있는데, `A * B mod N == (A mod N) * (B mod N) mod N`임을 잊지 말도록 하자.
