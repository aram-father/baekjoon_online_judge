**Problme No:** 13167
**Problem Id:** 포스터


그야말로 `닉값한다`라는 표현이 걸맞을 정도로 매우까다로운 문제였다.


우선, 좌표압축은 당연히 해야하므로 이후 기술에서 좌표는 이미 압축되어 있다고 가정하도록 하겠다.
(사실 여기서도 깨달음이 있었는데, 단순하게 map을 쓰는 좌표압축은 매우 속도가 느리다는 점을 배웠다)


기본 골격은 x축 방향으로 좌표를 스위핑하면서, 매번의 훑기(스윕)마다 포스터를 늦게 붙은 녀석부터 한장씩 붙여보는 것이다.


이 과정에서 포스터의 일부분이 빈공간에 붙게 된다면, 그 면적만큼 해당 포스터가 보이는 면적을 더해주면 된다.


짜증나는 점은 `그래서 대체 빈공간 여부를 어떻게 빠르게 확인할 수 있냐?`는 것인데 이때 서로소 집합 자료구조를 이용해준다.


어떤 포스터가 붙게되어서 그 공간이 더 이상 빈 공간이 아니게 되면 해당 공간들을 모두 합집합해준다.


이 때 단순히 합집합만 해주게 되면, 매번의 훑기에서 전체 공간의 높이(최대 5000*2)만큼을 훑어주어야 하므로 TLE가 나게 된다.


따라서, 보다 똑똑하게 훑어주어야 하는데 내가 사용한 방법은 합집합 시 항상 그 집합의 대표 번호(루트)를 이 집합이 끝나는 곳의 y좌표로 설정한 것이다.


이렇게 하면, 한번의 Find 연산에서 빈 공간이 아닌 것으로 확인된 공간을 만나면 바로 다음 빈 공간으로 점프할 수 있다.
